syntax = "proto3";
package ai_bridge;
import "google/protobuf/empty.proto";



message ContextGrpcModel{
  repeated string headers              = 1;
  bool            voice                = 2;
  string          request_id           = 3;
  string          conversation_id      = 4;
  int64           request_telemetry_id = 5;
}

message ReasoningGrpcRequest{
  optional ContextGrpcModel ctx  = 1;
  string                    text = 2;
}

message ReasoningGrpcResponse{
  string                             text_token = 1;
  repeated AiBridgeToolCallGrpcModel tool_calls = 2;
  bool                               error      = 3;
  repeated string                    labels     = 4;
}

message AiBridgeToolCallGrpcModel{
  string fn_name       = 1;
  string response_data = 2;
  string request_data  = 3;
}

message GetDynamicContentGrpcRequest{
  repeated string headers         = 1;
  string          text            = 2;
  string          domain_and_path = 3;
  uint64          position        = 4;
}

message GetDynamicContentGrpcResponse{
  string text = 1;
}

message ExecuteToolCallGrpcRequest{
  string inventory_type = 1;
  string fn_name        = 2;
  string params         = 3;
}

message ExecuteToolCallGrpcResponse{
  string response = 1;
}

message DoChatTestGrpcRequest{
  string          tenant_id   = 1;
  string          language_id = 2;
  string          inventory   = 3;
  repeated string id          = 4;
}

message DoChatTestGrpcResponse{
  string error = 1;
}


message GetMpcFunctionGrpcRequest{
  string inventory_id = 1;
}

message GetMpcFunctionsGrpcResponse{
  repeated string functions = 1;
}

service AiBridge {
  rpc Reasoning(stream ReasoningGrpcRequest) returns (stream ReasoningGrpcResponse);
  rpc GetDynamicContent(GetDynamicContentGrpcRequest) returns (GetDynamicContentGrpcResponse);
  rpc ExecuteToolCall(ExecuteToolCallGrpcRequest) returns (ExecuteToolCallGrpcResponse);

  rpc GetMcpFunctions(GetMpcFunctionGrpcRequest) returns (GetMpcFunctionsGrpcResponse);

  rpc DoChatTest(DoChatTestGrpcRequest) returns (DoChatTestGrpcResponse);
  rpc Ping(google.protobuf.Empty) returns (google.protobuf.Empty);
}
