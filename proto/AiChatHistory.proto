syntax = "proto3";
package ai_chat_history;
import "google/protobuf/empty.proto";

message ChatHistoryGrpcModel{
    string Id = 1;
    string History = 2;
    string Summary = 3;
    uint64 No = 4;
    uint64 LastSummaryNo = 5;

}

message GetChatHistoryGrpcRequest{
    string Id = 1;
}

message GetChatHistoryListGrpcRequest{
    repeated string Id = 1;
}

message DeleteHistoryGrpcRequest{
    string Id = 1;
}

message UpdateSummaryGrpcRequest{
    string Id = 1;
    string Summary = 2;
    uint64 No = 3;
}

service AiChatHistory {
    rpc Save(ChatHistoryGrpcModel) returns (google.protobuf.Empty);
    rpc UpdateSummary(UpdateSummaryGrpcRequest) returns (google.protobuf.Empty);

    rpc Get(GetChatHistoryGrpcRequest) returns (ChatHistoryGrpcModel);
    rpc GetList(GetChatHistoryListGrpcRequest) returns (stream ChatHistoryGrpcModel);

    rpc Delete(DeleteHistoryGrpcRequest) returns (google.protobuf.Empty);
    rpc Ping(google.protobuf.Empty) returns (google.protobuf.Empty);
}
